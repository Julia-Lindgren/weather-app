(()=>{"use strict";const e=document.getElementById("location"),t=document.getElementById("country"),n=document.getElementById("date"),c=document.getElementById("conditionIcon"),i=document.getElementById("conditionText"),r=document.getElementById("currentTemp"),d=document.getElementById("feelsLikeTemp"),o=document.getElementById("wind"),m=document.getElementById("precip"),a=document.getElementById("humidity"),s=document.getElementById("uv");let l;const u=document.getElementById("searchField"),p=document.getElementById("searchForm"),y=document.getElementById("searchButton"),f=document.getElementById("metric"),E=document.getElementById("imperial");let $=!0;p.addEventListener("submit",(e=>{e.preventDefault()})),y.addEventListener("click",(async function(){const p=u.value,y=await async function(e){const t=`https://api.weatherapi.com/v1/forecast.json?key=866893fd6b4045d4925130358233010&q=${e}&days=3`;try{const e=await fetch(t,{mode:"cors"});if(!e.ok){const t=`An error has occured: ${e.status}`;throw new Error(t)}return await e.json()}catch(e){console.log(e.message),console.log("couldn't find location")}return null}(p);!function(u){l=u;const p=u.location.name,{country:y}=u.location,{date:f}=u.forecast.forecastday[0],E=u.current.condition.icon,$=u.current.condition.text,x=u.current.temp_c,T=u.current.feelslike_c,B=u.current.wind_kph,g=u.current.precip_mm,{humidity:h}=u.current,{uv:I}=u.current;e.innerText=p,t.innerText=y,n.innerText=f,c.src=E,i.innerText=$,r.innerText=`${x}°C`,d.innerText=`Feels like: ${T}°C`,o.innerText=`Wind: ${B}kph`,m.innerText=`Precip: ${g}mm`,a.innerText=`Humidity: ${h}%`,s.innerText=`UV: ${I}`}(y),function(e){const t=document.getElementsByClassName("forecastContainer")[0];t.innerHTML="",e.forecast.forecastday.forEach((e=>{const n=document.createElement("div");n.classList.add("dayDisplay");const c=document.createElement("div");c.innerText=e.date;const i=document.createElement("img");i.src=e.day.condition.icon;const r=document.createElement("div");r.setAttribute("id",`temp${e.date}`),r.innerText=`${e.day.mintemp_c}° / ${e.day.maxtemp_c}°`;const d=document.createElement("div");d.setAttribute("id",`precip${e.date}`),d.innerText=`Precip: ${e.day.totalprecip_mm}mm`,n.appendChild(c),n.appendChild(i),n.appendChild(r),n.appendChild(d),t.appendChild(n)}))}(y)})),f.addEventListener("click",(()=>{$||($=!0,function(){if(void 0===l)return;const e=l.current.temp_c,t=l.current.feelslike_c,n=l.current.wind_kph,c=l.current.precip_mm;r.innerText=`${e}°C`,d.innerText=`Feels like: ${t}°C`,o.innerText=`Wind: ${n}kph`,m.innerText=`Precip: ${c}mm`,l.forecast.forecastday.forEach((e=>{const t=document.getElementById(`precip${e.date}`),n=document.getElementById(`temp${e.date}`);t.innerText=`Precip: ${e.day.totalprecip_mm}mm`,n.innerText=`${e.day.mintemp_c}° / ${e.day.maxtemp_c}°`}))}(),E.classList.remove("selectedButton"),f.classList.add("selectedButton"))})),E.addEventListener("click",(()=>{$&&($=!1,function(){if(void 0===l)return;const e=l.current.temp_f,t=l.current.feelslike_f,n=l.current.wind_mph,c=l.current.precip_in;r.innerText=`${e}°F`,d.innerText=`Feels like: ${t}°F`,o.innerText=`Wind: ${n}mph`,m.innerText=`Precip: ${c}in`,l.forecast.forecastday.forEach((e=>{const t=document.getElementById(`precip${e.date}`),n=document.getElementById(`temp${e.date}`);t.innerText=`Precip: ${e.day.totalprecip_in}in`,n.innerText=`${e.day.mintemp_f}° / ${e.day.maxtemp_f}°`}))}(),E.classList.add("selectedButton"),f.classList.remove("selectedButton"))}))})();